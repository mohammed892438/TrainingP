document.addEventListener('DOMContentLoaded', function() {
    // Toggle password visibility for both password fields
    const togglepassword = document.querySelector('#togglepassword');
    const password = document.querySelector('#password');
    const togglepasswordConfirmation = document.querySelector('#togglepasswordConfirmation');
    const passwordConfirmation = document.querySelector('#passwordConfirmation');
    
    // Function to toggle password visibility
    function togglePasswordVisibility(toggle, passwordField) {
        const isPassword = passwordField.type === 'password';
        passwordField.type = isPassword ? 'text' : 'password';
        
        // Update the SVG icon
        toggle.innerHTML = isPassword ? `
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.9999 16.3299C11.1435 16.3299 10.3064 16.076 9.5943 15.6002C8.88224 15.1244 8.32725 14.4481 7.99953 13.6569C7.6718 12.8657 7.58605 11.9951 7.75312 11.1552C7.9202 10.3152 8.33259 9.54371 8.93815 8.93815C9.54371 8.33259 10.3152 7.9202 11.1552 7.75312C11.9951 7.58605 12.8657 7.6718 13.6569 7.99953C14.4481 8.32725 15.1244 8.88224 15.6002 9.5943C16.076 10.3064 16.3299 11.1435 16.3299 11.9999C16.3294 13.1481 15.873 14.2492 15.0611 15.0611C14.2492 15.873 13.1481 16.3294 11.9999 16.3299ZM11.9999 9.16992C11.4402 9.16992 10.8931 9.3359 10.4277 9.64686C9.96227 9.95783 9.59954 10.3998 9.38534 10.9169C9.17115 11.434 9.11511 12.0031 9.2243 12.552C9.3335 13.101 9.60303 13.6053 9.99881 14.001C10.3946 14.3968 10.8989 14.6663 11.4478 14.7755C11.9968 14.8847 12.5658 14.8287 13.0829 14.6145C13.6 14.4003 14.042 14.0376 14.353 13.5722C14.6639 13.1068 14.8299 12.5596 14.8299 11.9999C14.8289 11.2497 14.5304 10.5305 13.9999 9.99998C13.4694 9.46948 12.7502 9.17098 11.9999 9.16992Z" fill="#666666"/>
                <path d="M12.0001 21.02C8.24006 21.02 4.69006 18.82 2.25006 15C1.72906 14.086 1.45508 13.052 1.45508 12C1.45508 10.9479 1.72906 9.91399 2.25006 8.99998C4.70006 5.17998 8.25506 2.97998 12.0001 2.97998C15.7451 2.97998 19.3001 5.17998 21.7401 8.99998C22.2611 9.91399 22.535 10.9479 22.535 12C22.535 13.052 22.2611 14.086 21.7401 15C19.3001 18.82 15.7551 21.02 12.0001 21.02ZM12.0001 4.47998C8.77006 4.47998 5.68006 6.41998 3.52006 9.80998C3.15101 10.4809 2.9575 11.2342 2.9575 12C2.9575 12.7657 3.15101 13.519 3.52006 14.19C5.68006 17.58 8.77006 19.52 12.0001 19.52C15.2301 19.52 18.3201 17.58 20.4801 14.19C20.8491 13.519 21.0426 12.7657 21.0426 12C21.0426 11.2342 20.8491 10.4809 20.4801 9.80998C18.3201 6.41998 15.2301 4.47998 12.0001 4.47998Z" fill="#666666"/>
                <path d="M19.0701 4.92999L4.93005 19.07" stroke="#666666" stroke-width="2" stroke-linecap="round"/>
            </svg>
        ` : `
            <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M11.9999 16.3299C11.1435 16.3299 10.3064 16.076 9.5943 15.6002C8.88224 15.1244 8.32725 14.4481 7.99953 13.6569C7.6718 12.8657 7.58605 11.9951 7.75312 11.1552C7.9202 10.3152 8.33259 9.54371 8.93815 8.93815C9.54371 8.33259 10.3152 7.9202 11.1552 7.75312C11.9951 7.58605 12.8657 7.6718 13.6569 7.99953C14.4481 8.32725 15.1244 8.88224 15.6002 9.5943C16.076 10.3064 16.3299 11.1435 16.3299 11.9999C16.3294 13.1481 15.873 14.2492 15.0611 15.0611C14.2492 15.873 13.1481 16.3294 11.9999 16.3299ZM11.9999 9.16992C11.4402 9.16992 10.8931 9.3359 10.4277 9.64686C9.96227 9.95783 9.59954 10.3998 9.38534 10.9169C9.17115 11.434 9.11511 12.0031 9.2243 12.552C9.3335 13.101 9.60303 13.6053 9.99881 14.001C10.3946 14.3968 10.8989 14.6663 11.4478 14.7755C11.9968 14.8847 12.5658 14.8287 13.0829 14.6145C13.6 14.4003 14.042 14.0376 14.353 13.5722C14.6639 13.1068 14.8299 12.5596 14.8299 11.9999C14.8289 11.2497 14.5304 10.5305 13.9999 9.99998C13.4694 9.46948 12.7502 9.17098 11.9999 9.16992Z" fill="#666666"/>
                <path d="M12.0001 21.02C8.24006 21.02 4.69006 18.82 2.25006 15C1.72906 14.086 1.45508 13.052 1.45508 12C1.45508 10.9479 1.72906 9.91399 2.25006 8.99998C4.70006 5.17998 8.25506 2.97998 12.0001 2.97998C15.7451 2.97998 19.3001 5.17998 21.7401 8.99998C22.2611 9.91399 22.535 10.9479 22.535 12C22.535 13.052 22.2611 14.086 21.7401 15C19.3001 18.82 15.7551 21.02 12.0001 21.02ZM12.0001 4.47998C8.77006 4.47998 5.68006 6.41998 3.52006 9.80998C3.15101 10.4809 2.9575 11.2342 2.9575 12C2.9575 12.7657 3.15101 13.519 3.52006 14.19C5.68006 17.58 8.77006 19.52 12.0001 19.52C15.2301 19.52 18.3201 17.58 20.4801 14.19C20.8491 13.519 21.0426 12.7657 21.0426 12C21.0426 11.2342 20.8491 10.4809 20.4801 9.80998C18.3201 6.41998 15.2301 4.47998 12.0001 4.47998Z" fill="#666666"/>
            </svg>
        `;
    }

    // Add event listeners for both password fields
    togglepassword.addEventListener('click', function() {
        togglePasswordVisibility(togglepassword, password);
    });

    togglepasswordConfirmation.addEventListener('click', function() {
        togglePasswordVisibility(togglepasswordConfirmation, passwordConfirmation);
    });
});